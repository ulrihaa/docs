# Receiving and deleting messages

Messages queued in {{ message-queue-name }} are received by consumers, i.e., components of distributed applications. After messages are received and processed, they should be deleted from the queue.

{% list tabs %}

- AWS CLI

   1. [Install and configure](configuring-aws-cli.md) the AWS CLI.
   1. [Create](message-queue-new-queue.md) a message queue and [send](message-queue-send-message.md) a test message to it.
   1. Receive the message you sent earlier:

      ```bash
      aws sqs receive-message \
        --queue-url <queue_URL> \
        --endpoint <endpoint>
      ```

      Where:

      * `--queue-url`: URL of the queue to receive the message from.
      * `--endpoint`: Endpoint in the `https://message-queue.{{ api-host }}/` value

      Result:

      ```json
      {
          "Messages": [
              {
                  "MessageId": "948de7-9ec8d787-c*******-*",
                  "ReceiptHandle": "EAEggbj********",
                  "MD5OfBody": "ed076287532e86365e841e92********",
                  "Body": "Hello World",
                  "Attributes": {
                      "ApproximateFirstReceiveTimestamp": "15459********",
                      "ApproximateReceiveCount": "1",
                      "SentTimestamp": "15459********",
                      "SenderId": "abcdefkbh72is78********"
                  }
              }
          ]
      }
      ```

      Save the `ReceiptHandle` parameter value. You will need it at the next steps.

      {% note info %}

      If there are no messages in the queue, the `aws sqs receive-message` command will end with no text output to the terminal.

      {% endnote %}

   1. To delete a message from the queue, use the [receipt ID](../concepts/message.md): the `ReceiptHandle` parameter value received along with the message.

      Delete the received message from the queue:

       ```bash
       aws sqs delete-message \
         --queue-url <queue_URL> \
         --endpoint <endpoint> \
         --receipt-handle <receipt_ID>
       ```

       Where:

       * `--queue-url`: URL of the queue to delete the message from.
       * `--endpoint`: Endpoint in the `https://message-queue.{{ api-host }}/` value
       * `--receipt-handle`: Previously saved message receipt ID (`ReceiptHandle`).

{% endlist %}

If the delete command is executed successfully, no text is output to the terminal. To check the deletion of the message:

{% list tabs %}

- Management console

   1. In the [management console]({{ link-console-main }}), select the folder where you created the message queue.
   1. In the list of services, select **{{ message-queue-name }}**.
   1. The current number of enqueued messages is specified in the **Messages in queue** field.

{% endlist %}
