# Асинхронное распознавание

Асинхронное распознавание позволяет преобразовывать в текст многоканальные аудиофайлы следующих характеристик:
* Максимальная длительность записи — {{ stt-long-audioLength }}. 
* Максимальный размер файла — {{ stt-long-fileSize }}. 
 
Результаты распознавания хранятся на сервере {{ stt-long-resultsStorageTime }}, после чего вы не сможете их получить. 

Асинхронное распознавание не подходит для распознавания диалога в режиме реального времени. Если вам нужны промежуточные результаты и минимальное время ответа, используйте [потоковое распознавание](streaming.md).

Список поддерживаемых языков см. в разделе [{#T}](models.md#languages).

## Режимы работы асинхронного распознавания {#modes}

{% include [async-stt-modes](../../_includes/speechkit/async-modes.md) %}

## Как распознается длинное аудио {#long-audio-recognition}

Для асинхронного распознавания речи используется API v2 {{ speechkit-name }}. Чтобы распознать длинное аудио, нужно выполнить два запроса:

1. Отправить файл на распознавание.
1. Получить результаты распознавания.

Запросы отправляются от имени [сервисного аккаунта](../../iam/concepts/users/service-accounts.md), которому назначены роли на каталог:

* `{{ roles-speechkit-stt }}` — для распознавания речи.
* `storage.uploader` — для загрузки аудиофайла в [бакет {{ objstorage-full-name }}](../../storage/concepts/bucket.md).
* `storage.configurer`, `kms.keys.encrypter` и `kms.keys.decrypter` — для шифрования и расшифровки объектов в бакете. Эти роли нужны, только если вы используете [шифрование в {{ objstorage-name }}](../../storage/concepts/encryption.md).

Для авторизации в HTTP-заголовках запроса передаются [IAM-токен](../../iam/concepts/authorization/iam-token.md) или [API-ключ](../../iam/concepts/authorization/api-key.md) для сервисного аккаунта:

* IAM-токен: `Authorization: Bearer <IAM-токен>`;
* API-ключ: `Authorization: Api-Key <API-ключ>`.

Аудиофайл для распознавания [загружается](../../storage/operations/objects/upload.md) в бакет {{ objstorage-name }}. Для передачи этого файла в теле запроса используется [ссылка на файл](../../storage/operations/objects/link-for-download.md). Для бакета с ограниченным доступом в ссылке присутствуют дополнительные query-параметры (после знака `?`). Эти параметры не нужно передавать в {{ speechkit-name }} — они игнорируются.

После отправки [запроса на распознавание речи](api/transcribation-api.md#sendfile) в ответе сервис возвращает идентификатор операции распознавания. Он используется в [запросе на получение результатов распознавания](api/transcribation-api#get-result).

{% note warning %}

Результаты хранятся на сервере {{ stt-long-resultsStorageTime }}. После этого вы не сможете запросить результаты распознавания, используя полученный идентификатор.

{% endnote %}

Результаты содержат распознанный текст целиком и список распознанных слов.


#### См. также {#see-also}

О том, как использовать API асинхронного распознавания речи, читайте в разделах:

* [{#T}](api/transcribation-api.md).
* [{#T}](api/transcribation-lpcm.md).
* [{#T}](api/transcribation-ogg.md).
* [{#T}](api/batch-transcribation.md).

