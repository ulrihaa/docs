# Устранение проблем изменения конфигурации кластеров с дисками local-ssd


## Описание проблемы {#issue-description}

При попытке увеличить размер хранилища или изменить класс хостов кластера Managed Service for PostgreSQL с дисками `local-ssd` возникает одно или несколько сообщений об ошибках:

* `UNPROCESSABLE ENTITY`;
* `GATEWAY_REQUEST_ERROR`.

## Решение {#issue-resolution}

Размер хранилища кластера не удается увеличить потому, что в кластере используются диски типа `local-ssd`.

Попробуйте увеличить размер кластера с шагом в 100 ГБ (для платформ Intel Broadwell и Intel Cascade Lake) или с шагом в 368 ГБ (для платформы Intel Ice Lake) с предварительным [созданием резервной копии](../../../managed-postgresql/operations/cluster-backups.md#create-backup) данных.

Для кластеров с этим типом дискового хранилища рекомендуется изменять класс хостов путем [создания](../../../managed-postgresql/operations/cluster-backups.md#create-backup) и последующего [восстановления](../../../managed-postgresql/operations/cluster-backups.md#restore) резервной копии.

## Если проблема осталась {#if-issue-still-persists}

Если имеется критичная необходимость изменения конфигурации уже существующего кластера с дисками `local-ssd`, [создайте запрос в техническую поддержку]({{ link-console-support }}).
В запросе укажите следующую информацию:

1. Идентификатор кластера Managed Service for PostgreSQL, для которого вы хотите изменить размер диска или класс хостов.
2. Описание сценария использования, в котором необходимо изменение дисковой конфигурации существующего уже кластера.

При изменении конфигурации уже существующего кластера с дисками `local-ssd` на всех хостах кластера (включая мастер-хост) будет последовательно запущено техническое обслуживание.
Порядок реплик в очереди определяется случайным образом. Если во время технического обслуживания потребуется перезагрузка реплики, она станет недоступной на это время.
Если во время технического обслуживания потребуется перезагрузка мастера и он станет недоступным, его роль возьмет на себя одна из реплик.

В случае использования [FQDN](../../../managed-postgresql/concepts/network.md#hostname) хоста-мастера для доступа к кластеру, такой кластер может стать недоступным.
Чтобы обеспечить бесперебойную работу приложения, подключайтесь к кластеру через [особый FQDN](../../../managed-postgresql/operations/connect.md#fqdn-master), всегда указывающий на хост-мастер.
